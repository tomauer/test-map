{"id":"Focm","dependencies":[{"name":"/Users/mta45/repos/test-map/package.json","includedInParent":true,"mtime":1592331356805},{"name":"ol/ol.css","loc":{"line":1,"column":7},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/ol.css"},{"name":"ol","loc":{"line":2,"column":24},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/index.js"},{"name":"ol/layer/Tile","loc":{"line":3,"column":22},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/layer/Tile.js"},{"name":"ol/source/OSM","loc":{"line":4,"column":16},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/source/OSM.js"},{"name":"ol/proj/proj4","loc":{"line":5,"column":23},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/proj/proj4.js"},{"name":"proj4","loc":{"line":6,"column":18},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/proj4/lib/index.js"},{"name":"ol/proj","loc":{"line":7,"column":35},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/proj.js"},{"name":"ol/extent","loc":{"line":8,"column":24},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/extent.js"},{"name":"ol/format/MVT","loc":{"line":9,"column":16},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/format/MVT.js"},{"name":"ol/layer/VectorTile","loc":{"line":10,"column":28},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/layer/VectorTile.js"},{"name":"ol/source/VectorTile","loc":{"line":11,"column":29},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/source/VectorTile.js"},{"name":"ol/style","loc":{"line":12,"column":46},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol/style.js"},{"name":"ol-mapbox-style","loc":{"line":13,"column":25},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol-mapbox-style/dist/index.js"},{"name":"ol-mapbox-style/dist/stylefunction","loc":{"line":14,"column":26},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/node_modules/ol-mapbox-style/dist/stylefunction.js"},{"name":"./data/style.json","loc":{"line":71,"column":23},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/data/style.json"},{"name":"./data/style2.json","loc":{"line":72,"column":24},"parent":"/Users/mta45/repos/test-map/index.js","resolved":"/Users/mta45/repos/test-map/data/style2.json"}],"generated":{"js":"\"use strict\";require(\"ol/ol.css\");var e=require(\"ol\"),t=f(require(\"ol/layer/Tile\")),o=f(require(\"ol/source/OSM\")),r=require(\"ol/proj/proj4\"),l=f(require(\"proj4\")),a=require(\"ol/proj\"),i=require(\"ol/extent\"),n=f(require(\"ol/format/MVT\")),u=f(require(\"ol/layer/VectorTile\")),s=f(require(\"ol/source/VectorTile\")),p=require(\"ol/style\"),d=require(\"ol-mapbox-style\"),c=f(require(\"ol-mapbox-style/dist/stylefunction\"));function f(e){return e&&e.__esModule?e:{default:e}}l.default.defs(\"EPSG:199999\",\"+proj=laea +lon_0=-80.86 +lat_0=14.88 +datum=WGS84 +units=m +no_defs\"),l.default.defs(\"ESRI:54009\",\"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs\"),(0,r.register)(l.default);var m=(0,a.get)(\"ESRI:54009\");m.setExtent([-18e6,-9e6,18e6,9e6]);var y=(0,a.get)(\"EPSG:199999\");y.setExtent([-9303637,-8338295,7694955,7838189]);var h=\"pk.eyJ1IjoidGhlc2t1YSIsImEiOiJjaXpvdWtoZ3UwMDVmMzJueDl2cWp6NHdnIn0.3T9kAApG2hnV6NCVWxVDbA\",v=new p.Style({fill:new p.Fill({color:\"#666\",opacity:.4})}),x=\"https://api.mapbox.com/styles/v1/theskua/ckb9o174m07p61is0tjzhvtsc.html?fresh=true&title=view&access_token=\"+h,w=new e.Map({target:\"map\",layers:[new t.default({source:new o.default})],view:new e.View({projection:\"ESRI:54009\",center:[-8277374.267578123,3555690.7653808603],zoom:4})}),g=new u.default({declutter:!0,source:new s.default({attributions:'© <a href=\"https://www.mapbox.com/map-feedback/\">Mapbox</a> © <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap contributors</a>',format:new n.default,url:\"https://{a-d}.tiles.mapbox.com/v4/theskua.c5v8960k/{z}/{x}/{y}.vector.pbf?access_token=\"+h}),style:v,opacity:.7});w.addLayer(g);var q=require(\"./data/style.json\"),b=require(\"./data/style2.json\");(0,c.default)(g,q,\"erd202004-27km-poly-moll-fixed\");var j=document.getElementById(\"base-layer\");j.onchange=function(){\"style\"==j.value?(0,c.default)(g,q,\"erd202004-27km-poly-moll-fixed\"):(0,c.default)(g,b,\"erd202004-27km-poly-moll-fixed\")};var k=$(\"#info\");k.tooltip({animation:!1,trigger:\"manual\"});var E=function(e){k.css({left:e[0]+\"px\",top:e[1]-15+\"px\"});var t=w.forEachFeatureAtPixel(e,function(e){return e});t?k.tooltip(\"hide\").attr(\"data-original-title\",\"Count: \"+t.get(\"count\")+\" Change: \"+t.get(\"diff\").toFixed(2)).tooltip(\"fixTitle\").tooltip(\"show\"):k.tooltip(\"hide\")};w.on(\"pointermove\",function(e){e.dragging?k.tooltip(\"hide\"):E(w.getEventPixel(e.originalEvent))});"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":34}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":38}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":40}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":48}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":54}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":56}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":58}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":66}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":84}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":86}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":88}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":96}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":114}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":116}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":124}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":141}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":143}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":145}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":153}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":163}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":165}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":173}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":184}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":186}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":194}},{"source":"index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":207}},{"source":"index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":209}},{"source":"index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":211}},{"source":"index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":219}},{"source":"index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":237}},{"source":"index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":239}},{"source":"index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":241}},{"source":"index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":249}},{"source":"index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":273}},{"source":"index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":275}},{"source":"index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":277}},{"source":"index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":285}},{"source":"index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":310}},{"source":"index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":312}},{"source":"index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":320}},{"source":"index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":332}},{"source":"index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":334}},{"source":"index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":342}},{"source":"index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":361}},{"source":"index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":363}},{"source":"index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":365}},{"source":"index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":373}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":412}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":421}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":423}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":426}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":433}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":436}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":438}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":449}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":451}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":452}},{"source":"index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":460}},{"source":"index.js","name":"proj4","original":{"line":16,"column":0},"generated":{"line":1,"column":463}},{"source":"index.js","name":"defs","original":{"line":16,"column":6},"generated":{"line":1,"column":465}},{"source":"index.js","name":"defs","original":{"line":16,"column":6},"generated":{"line":1,"column":473}},{"source":"index.js","original":{"line":16,"column":11},"generated":{"line":1,"column":478}},{"source":"index.js","original":{"line":16,"column":26},"generated":{"line":1,"column":492}},{"source":"index.js","name":"proj4","original":{"line":17,"column":0},"generated":{"line":1,"column":564}},{"source":"index.js","name":"defs","original":{"line":17,"column":6},"generated":{"line":1,"column":566}},{"source":"index.js","name":"defs","original":{"line":17,"column":6},"generated":{"line":1,"column":574}},{"source":"index.js","original":{"line":17,"column":11},"generated":{"line":1,"column":579}},{"source":"index.js","original":{"line":17,"column":25},"generated":{"line":1,"column":592}},{"source":"index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":661}},{"source":"index.js","name":"proj4","original":{"line":20,"column":9},"generated":{"line":1,"column":663}},{"source":"index.js","name":"proj4","original":{"line":20,"column":9},"generated":{"line":1,"column":665}},{"source":"index.js","name":"proj4","original":{"line":20,"column":9},"generated":{"line":1,"column":675}},{"source":"index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":677}},{"source":"index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":686}},{"source":"index.js","name":"proj54009","original":{"line":22,"column":4},"generated":{"line":1,"column":690}},{"source":"index.js","original":{"line":22,"column":16},"generated":{"line":1,"column":693}},{"source":"index.js","original":{"line":22,"column":30},"generated":{"line":1,"column":695}},{"source":"index.js","original":{"line":22,"column":30},"generated":{"line":1,"column":697}},{"source":"index.js","original":{"line":22,"column":30},"generated":{"line":1,"column":702}},{"source":"index.js","name":"proj54009","original":{"line":23,"column":0},"generated":{"line":1,"column":716}},{"source":"index.js","name":"setExtent","original":{"line":23,"column":10},"generated":{"line":1,"column":718}},{"source":"index.js","original":{"line":23,"column":20},"generated":{"line":1,"column":728}},{"source":"index.js","original":{"line":23,"column":22},"generated":{"line":1,"column":730}},{"source":"index.js","original":{"line":23,"column":29},"generated":{"line":1,"column":736}},{"source":"index.js","original":{"line":23,"column":34},"generated":{"line":1,"column":740}},{"source":"index.js","original":{"line":23,"column":40},"generated":{"line":1,"column":745}},{"source":"index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":751}},{"source":"index.js","name":"proj102001","original":{"line":25,"column":4},"generated":{"line":1,"column":755}},{"source":"index.js","original":{"line":25,"column":17},"generated":{"line":1,"column":758}},{"source":"index.js","original":{"line":25,"column":31},"generated":{"line":1,"column":760}},{"source":"index.js","original":{"line":25,"column":31},"generated":{"line":1,"column":762}},{"source":"index.js","original":{"line":25,"column":31},"generated":{"line":1,"column":767}},{"source":"index.js","name":"proj102001","original":{"line":26,"column":0},"generated":{"line":1,"column":782}},{"source":"index.js","name":"setExtent","original":{"line":26,"column":11},"generated":{"line":1,"column":784}},{"source":"index.js","original":{"line":26,"column":21},"generated":{"line":1,"column":794}},{"source":"index.js","original":{"line":26,"column":23},"generated":{"line":1,"column":796}},{"source":"index.js","original":{"line":26,"column":33},"generated":{"line":1,"column":805}},{"source":"index.js","original":{"line":26,"column":42},"generated":{"line":1,"column":813}},{"source":"index.js","original":{"line":26,"column":51},"generated":{"line":1,"column":821}},{"source":"index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":831}},{"source":"index.js","name":"key","original":{"line":29,"column":4},"generated":{"line":1,"column":835}},{"source":"index.js","original":{"line":29,"column":10},"generated":{"line":1,"column":837}},{"source":"index.js","name":"countStyle","original":{"line":31,"column":4},"generated":{"line":1,"column":929}},{"source":"index.js","original":{"line":31,"column":17},"generated":{"line":1,"column":931}},{"source":"index.js","name":"Style","original":{"line":31,"column":21},"generated":{"line":1,"column":935}},{"source":"index.js","original":{"line":31,"column":17},"generated":{"line":1,"column":937}},{"source":"index.js","original":{"line":31,"column":27},"generated":{"line":1,"column":943}},{"source":"index.js","name":"fill","original":{"line":32,"column":2},"generated":{"line":1,"column":944}},{"source":"index.js","original":{"line":32,"column":8},"generated":{"line":1,"column":949}},{"source":"index.js","name":"Fill","original":{"line":32,"column":12},"generated":{"line":1,"column":953}},{"source":"index.js","original":{"line":32,"column":8},"generated":{"line":1,"column":955}},{"source":"index.js","original":{"line":32,"column":17},"generated":{"line":1,"column":960}},{"source":"index.js","name":"color","original":{"line":33,"column":4},"generated":{"line":1,"column":961}},{"source":"index.js","original":{"line":33,"column":11},"generated":{"line":1,"column":967}},{"source":"index.js","name":"opacity","original":{"line":34,"column":4},"generated":{"line":1,"column":974}},{"source":"index.js","original":{"line":34,"column":13},"generated":{"line":1,"column":982}},{"source":"index.js","name":"style","original":{"line":38,"column":4},"generated":{"line":1,"column":989}},{"source":"index.js","original":{"line":38,"column":12},"generated":{"line":1,"column":991}},{"source":"index.js","name":"key","original":{"line":38,"column":124},"generated":{"line":1,"column":1101}},{"source":"index.js","name":"map","original":{"line":41,"column":6},"generated":{"line":1,"column":1103}},{"source":"index.js","original":{"line":41,"column":12},"generated":{"line":1,"column":1105}},{"source":"index.js","name":"Map","original":{"line":41,"column":16},"generated":{"line":1,"column":1109}},{"source":"index.js","original":{"line":41,"column":12},"generated":{"line":1,"column":1111}},{"source":"index.js","original":{"line":41,"column":20},"generated":{"line":1,"column":1115}},{"source":"index.js","name":"target","original":{"line":42,"column":2},"generated":{"line":1,"column":1116}},{"source":"index.js","original":{"line":42,"column":10},"generated":{"line":1,"column":1123}},{"source":"index.js","name":"layers","original":{"line":43,"column":2},"generated":{"line":1,"column":1129}},{"source":"index.js","original":{"line":43,"column":10},"generated":{"line":1,"column":1136}},{"source":"index.js","original":{"line":44,"column":4},"generated":{"line":1,"column":1137}},{"source":"index.js","name":"TileLayer","original":{"line":44,"column":8},"generated":{"line":1,"column":1141}},{"source":"index.js","original":{"line":44,"column":4},"generated":{"line":1,"column":1143}},{"source":"index.js","original":{"line":44,"column":18},"generated":{"line":1,"column":1151}},{"source":"index.js","name":"source","original":{"line":45,"column":6},"generated":{"line":1,"column":1152}},{"source":"index.js","original":{"line":45,"column":14},"generated":{"line":1,"column":1159}},{"source":"index.js","name":"OSM","original":{"line":45,"column":18},"generated":{"line":1,"column":1163}},{"source":"index.js","original":{"line":45,"column":14},"generated":{"line":1,"column":1165}},{"source":"index.js","name":"view","original":{"line":48,"column":2},"generated":{"line":1,"column":1176}},{"source":"index.js","original":{"line":48,"column":8},"generated":{"line":1,"column":1181}},{"source":"index.js","name":"View","original":{"line":48,"column":12},"generated":{"line":1,"column":1185}},{"source":"index.js","original":{"line":48,"column":8},"generated":{"line":1,"column":1187}},{"source":"index.js","original":{"line":48,"column":17},"generated":{"line":1,"column":1192}},{"source":"index.js","name":"projection","original":{"line":49,"column":4},"generated":{"line":1,"column":1193}},{"source":"index.js","original":{"line":49,"column":16},"generated":{"line":1,"column":1204}},{"source":"index.js","name":"center","original":{"line":50,"column":4},"generated":{"line":1,"column":1217}},{"source":"index.js","original":{"line":50,"column":12},"generated":{"line":1,"column":1224}},{"source":"index.js","original":{"line":50,"column":14},"generated":{"line":1,"column":1226}},{"source":"index.js","original":{"line":50,"column":33},"generated":{"line":1,"column":1244}},{"source":"index.js","name":"zoom","original":{"line":51,"column":4},"generated":{"line":1,"column":1264}},{"source":"index.js","original":{"line":51,"column":10},"generated":{"line":1,"column":1269}},{"source":"index.js","name":"layer","original":{"line":55,"column":4},"generated":{"line":1,"column":1275}},{"source":"index.js","original":{"line":55,"column":12},"generated":{"line":1,"column":1277}},{"source":"index.js","name":"VectorTileLayer","original":{"line":55,"column":16},"generated":{"line":1,"column":1281}},{"source":"index.js","original":{"line":55,"column":12},"generated":{"line":1,"column":1283}},{"source":"index.js","original":{"line":55,"column":32},"generated":{"line":1,"column":1291}},{"source":"index.js","name":"declutter","original":{"line":56,"column":2},"generated":{"line":1,"column":1292}},{"source":"index.js","original":{"line":56,"column":13},"generated":{"line":1,"column":1303}},{"source":"index.js","name":"source","original":{"line":57,"column":2},"generated":{"line":1,"column":1305}},{"source":"index.js","original":{"line":57,"column":10},"generated":{"line":1,"column":1312}},{"source":"index.js","name":"VectorTileSource","original":{"line":57,"column":14},"generated":{"line":1,"column":1316}},{"source":"index.js","original":{"line":57,"column":10},"generated":{"line":1,"column":1318}},{"source":"index.js","original":{"line":57,"column":31},"generated":{"line":1,"column":1326}},{"source":"index.js","name":"attributions","original":{"line":58,"column":4},"generated":{"line":1,"column":1327}},{"source":"index.js","original":{"line":58,"column":18},"generated":{"line":1,"column":1340}},{"source":"index.js","name":"format","original":{"line":61,"column":4},"generated":{"line":1,"column":1485}},{"source":"index.js","original":{"line":61,"column":12},"generated":{"line":1,"column":1492}},{"source":"index.js","name":"MVT","original":{"line":61,"column":16},"generated":{"line":1,"column":1496}},{"source":"index.js","original":{"line":61,"column":12},"generated":{"line":1,"column":1498}},{"source":"index.js","name":"url","original":{"line":62,"column":4},"generated":{"line":1,"column":1506}},{"source":"index.js","original":{"line":62,"column":9},"generated":{"line":1,"column":1510}},{"source":"index.js","name":"key","original":{"line":63,"column":49},"generated":{"line":1,"column":1600}},{"source":"index.js","name":"style","original":{"line":65,"column":2},"generated":{"line":1,"column":1604}},{"source":"index.js","name":"countStyle","original":{"line":65,"column":9},"generated":{"line":1,"column":1610}},{"source":"index.js","name":"opacity","original":{"line":66,"column":2},"generated":{"line":1,"column":1612}},{"source":"index.js","original":{"line":66,"column":11},"generated":{"line":1,"column":1620}},{"source":"index.js","name":"map","original":{"line":69,"column":0},"generated":{"line":1,"column":1625}},{"source":"index.js","name":"addLayer","original":{"line":69,"column":4},"generated":{"line":1,"column":1627}},{"source":"index.js","name":"layer","original":{"line":69,"column":13},"generated":{"line":1,"column":1636}},{"source":"index.js","original":{"line":71,"column":0},"generated":{"line":1,"column":1639}},{"source":"index.js","name":"styleUrl","original":{"line":71,"column":4},"generated":{"line":1,"column":1643}},{"source":"index.js","name":"require","original":{"line":71,"column":15},"generated":{"line":1,"column":1645}},{"source":"index.js","original":{"line":71,"column":23},"generated":{"line":1,"column":1653}},{"source":"index.js","name":"style2Url","original":{"line":72,"column":4},"generated":{"line":1,"column":1674}},{"source":"index.js","name":"require","original":{"line":72,"column":16},"generated":{"line":1,"column":1676}},{"source":"index.js","original":{"line":72,"column":24},"generated":{"line":1,"column":1684}},{"source":"index.js","original":{"line":74,"column":0},"generated":{"line":1,"column":1707}},{"source":"index.js","name":"layer","original":{"line":74,"column":14},"generated":{"line":1,"column":1709}},{"source":"index.js","name":"layer","original":{"line":74,"column":14},"generated":{"line":1,"column":1711}},{"source":"index.js","name":"layer","original":{"line":74,"column":14},"generated":{"line":1,"column":1720}},{"source":"index.js","name":"styleUrl","original":{"line":74,"column":21},"generated":{"line":1,"column":1722}},{"source":"index.js","original":{"line":74,"column":31},"generated":{"line":1,"column":1724}},{"source":"index.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1758}},{"source":"index.js","name":"baseLayerSelect","original":{"line":77,"column":4},"generated":{"line":1,"column":1762}},{"source":"index.js","name":"document","original":{"line":77,"column":22},"generated":{"line":1,"column":1764}},{"source":"index.js","name":"getElementById","original":{"line":77,"column":31},"generated":{"line":1,"column":1773}},{"source":"index.js","original":{"line":77,"column":46},"generated":{"line":1,"column":1788}},{"source":"index.js","name":"baseLayerSelect","original":{"line":79,"column":0},"generated":{"line":1,"column":1802}},{"source":"index.js","name":"onchange","original":{"line":79,"column":16},"generated":{"line":1,"column":1804}},{"source":"index.js","original":{"line":79,"column":27},"generated":{"line":1,"column":1813}},{"source":"index.js","original":{"line":81,"column":31},"generated":{"line":1,"column":1824}},{"source":"index.js","name":"baseLayerSelect","original":{"line":81,"column":6},"generated":{"line":1,"column":1833}},{"source":"index.js","name":"value","original":{"line":81,"column":22},"generated":{"line":1,"column":1835}},{"source":"index.js","name":"layer","original":{"line":82,"column":18},"generated":{"line":1,"column":1842}},{"source":"index.js","name":"layer","original":{"line":82,"column":18},"generated":{"line":1,"column":1844}},{"source":"index.js","name":"layer","original":{"line":82,"column":18},"generated":{"line":1,"column":1846}},{"source":"index.js","name":"layer","original":{"line":82,"column":18},"generated":{"line":1,"column":1855}},{"source":"index.js","name":"styleUrl","original":{"line":82,"column":25},"generated":{"line":1,"column":1857}},{"source":"index.js","original":{"line":82,"column":35},"generated":{"line":1,"column":1859}},{"source":"index.js","name":"layer","original":{"line":84,"column":18},"generated":{"line":1,"column":1894}},{"source":"index.js","name":"layer","original":{"line":84,"column":18},"generated":{"line":1,"column":1896}},{"source":"index.js","name":"layer","original":{"line":84,"column":18},"generated":{"line":1,"column":1898}},{"source":"index.js","name":"layer","original":{"line":84,"column":18},"generated":{"line":1,"column":1907}},{"source":"index.js","name":"style2Url","original":{"line":84,"column":25},"generated":{"line":1,"column":1909}},{"source":"index.js","original":{"line":84,"column":36},"generated":{"line":1,"column":1911}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1946}},{"source":"index.js","name":"info","original":{"line":88,"column":4},"generated":{"line":1,"column":1950}},{"source":"index.js","name":"$","original":{"line":88,"column":11},"generated":{"line":1,"column":1952}},{"source":"index.js","original":{"line":88,"column":13},"generated":{"line":1,"column":1954}},{"source":"index.js","name":"info","original":{"line":89,"column":0},"generated":{"line":1,"column":1963}},{"source":"index.js","name":"tooltip","original":{"line":89,"column":5},"generated":{"line":1,"column":1965}},{"source":"index.js","original":{"line":89,"column":13},"generated":{"line":1,"column":1973}},{"source":"index.js","name":"animation","original":{"line":90,"column":2},"generated":{"line":1,"column":1974}},{"source":"index.js","original":{"line":90,"column":13},"generated":{"line":1,"column":1985}},{"source":"index.js","name":"trigger","original":{"line":91,"column":2},"generated":{"line":1,"column":1987}},{"source":"index.js","original":{"line":91,"column":11},"generated":{"line":1,"column":1995}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":2006}},{"source":"index.js","name":"displayFeatureInfo","original":{"line":94,"column":4},"generated":{"line":1,"column":2010}},{"source":"index.js","original":{"line":94,"column":25},"generated":{"line":1,"column":2012}},{"source":"index.js","name":"pixel","original":{"line":94,"column":34},"generated":{"line":1,"column":2021}},{"source":"index.js","name":"info","original":{"line":95,"column":2},"generated":{"line":1,"column":2024}},{"source":"index.js","name":"css","original":{"line":95,"column":7},"generated":{"line":1,"column":2026}},{"source":"index.js","original":{"line":95,"column":11},"generated":{"line":1,"column":2030}},{"source":"index.js","name":"left","original":{"line":96,"column":4},"generated":{"line":1,"column":2031}},{"source":"index.js","name":"pixel","original":{"line":96,"column":10},"generated":{"line":1,"column":2036}},{"source":"index.js","original":{"line":96,"column":16},"generated":{"line":1,"column":2038}},{"source":"index.js","original":{"line":96,"column":21},"generated":{"line":1,"column":2041}},{"source":"index.js","name":"top","original":{"line":97,"column":4},"generated":{"line":1,"column":2046}},{"source":"index.js","name":"pixel","original":{"line":97,"column":10},"generated":{"line":1,"column":2050}},{"source":"index.js","original":{"line":97,"column":16},"generated":{"line":1,"column":2052}},{"source":"index.js","original":{"line":97,"column":21},"generated":{"line":1,"column":2055}},{"source":"index.js","original":{"line":97,"column":27},"generated":{"line":1,"column":2058}},{"source":"index.js","name":"feature","original":{"line":99,"column":6},"generated":{"line":1,"column":2065}},{"source":"index.js","name":"feature","original":{"line":99,"column":6},"generated":{"line":1,"column":2069}},{"source":"index.js","name":"map","original":{"line":99,"column":16},"generated":{"line":1,"column":2071}},{"source":"index.js","name":"forEachFeatureAtPixel","original":{"line":99,"column":20},"generated":{"line":1,"column":2073}},{"source":"index.js","name":"pixel","original":{"line":99,"column":42},"generated":{"line":1,"column":2095}},{"source":"index.js","original":{"line":99,"column":49},"generated":{"line":1,"column":2097}},{"source":"index.js","name":"feature","original":{"line":99,"column":58},"generated":{"line":1,"column":2106}},{"source":"index.js","name":"feature","original":{"line":100,"column":11},"generated":{"line":1,"column":2109}},{"source":"index.js","name":"feature","original":{"line":100,"column":11},"generated":{"line":1,"column":2116}},{"source":"index.js","name":"feature","original":{"line":103,"column":6},"generated":{"line":1,"column":2120}},{"source":"index.js","name":"info","original":{"line":104,"column":4},"generated":{"line":1,"column":2122}},{"source":"index.js","name":"tooltip","original":{"line":104,"column":9},"generated":{"line":1,"column":2124}},{"source":"index.js","original":{"line":104,"column":17},"generated":{"line":1,"column":2132}},{"source":"index.js","name":"attr","original":{"line":105,"column":7},"generated":{"line":1,"column":2140}},{"source":"index.js","original":{"line":105,"column":12},"generated":{"line":1,"column":2145}},{"source":"index.js","original":{"line":105,"column":35},"generated":{"line":1,"column":2167}},{"source":"index.js","name":"feature","original":{"line":105,"column":47},"generated":{"line":1,"column":2177}},{"source":"index.js","name":"get","original":{"line":105,"column":55},"generated":{"line":1,"column":2179}},{"source":"index.js","original":{"line":105,"column":59},"generated":{"line":1,"column":2183}},{"source":"index.js","original":{"line":105,"column":70},"generated":{"line":1,"column":2192}},{"source":"index.js","name":"feature","original":{"line":105,"column":89},"generated":{"line":1,"column":2204}},{"source":"index.js","name":"get","original":{"line":105,"column":97},"generated":{"line":1,"column":2206}},{"source":"index.js","original":{"line":105,"column":101},"generated":{"line":1,"column":2210}},{"source":"index.js","name":"toFixed","original":{"line":105,"column":109},"generated":{"line":1,"column":2218}},{"source":"index.js","original":{"line":105,"column":117},"generated":{"line":1,"column":2226}},{"source":"index.js","name":"tooltip","original":{"line":106,"column":7},"generated":{"line":1,"column":2230}},{"source":"index.js","original":{"line":106,"column":15},"generated":{"line":1,"column":2238}},{"source":"index.js","name":"tooltip","original":{"line":107,"column":7},"generated":{"line":1,"column":2250}},{"source":"index.js","original":{"line":107,"column":15},"generated":{"line":1,"column":2258}},{"source":"index.js","name":"info","original":{"line":109,"column":4},"generated":{"line":1,"column":2266}},{"source":"index.js","name":"tooltip","original":{"line":109,"column":9},"generated":{"line":1,"column":2268}},{"source":"index.js","original":{"line":109,"column":17},"generated":{"line":1,"column":2276}},{"source":"index.js","name":"map","original":{"line":113,"column":0},"generated":{"line":1,"column":2285}},{"source":"index.js","name":"on","original":{"line":113,"column":4},"generated":{"line":1,"column":2287}},{"source":"index.js","original":{"line":113,"column":7},"generated":{"line":1,"column":2290}},{"source":"index.js","original":{"line":113,"column":22},"generated":{"line":1,"column":2304}},{"source":"index.js","name":"evt","original":{"line":113,"column":31},"generated":{"line":1,"column":2313}},{"source":"index.js","name":"evt","original":{"line":116,"column":6},"generated":{"line":1,"column":2316}},{"source":"index.js","name":"dragging","original":{"line":116,"column":10},"generated":{"line":1,"column":2318}},{"source":"index.js","name":"info","original":{"line":117,"column":4},"generated":{"line":1,"column":2327}},{"source":"index.js","name":"tooltip","original":{"line":117,"column":9},"generated":{"line":1,"column":2329}},{"source":"index.js","original":{"line":117,"column":17},"generated":{"line":1,"column":2337}},{"source":"index.js","name":"displayFeatureInfo","original":{"line":120,"column":2},"generated":{"line":1,"column":2345}},{"source":"index.js","name":"map","original":{"line":120,"column":21},"generated":{"line":1,"column":2347}},{"source":"index.js","name":"getEventPixel","original":{"line":120,"column":25},"generated":{"line":1,"column":2349}},{"source":"index.js","name":"evt","original":{"line":120,"column":39},"generated":{"line":1,"column":2363}},{"source":"index.js","name":"originalEvent","original":{"line":120,"column":43},"generated":{"line":1,"column":2365}}],"sources":{"index.js":"import 'ol/ol.css';\nimport {Map, View} from 'ol';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport {register} from 'ol/proj/proj4';\nimport proj4 from 'proj4';\nimport {get as getProjection} from 'ol/proj';\nimport {getCenter} from 'ol/extent';\nimport MVT from 'ol/format/MVT';\nimport VectorTileLayer from 'ol/layer/VectorTile';\nimport VectorTileSource from 'ol/source/VectorTile';\nimport {Fill, Icon, Stroke, Style, Text} from 'ol/style';\nimport {applyStyle} from 'ol-mapbox-style';\nimport stylefunction from 'ol-mapbox-style/dist/stylefunction';\n\nproj4.defs('EPSG:199999', '+proj=laea +lon_0=-80.86 +lat_0=14.88 +datum=WGS84 +units=m +no_defs');\nproj4.defs('ESRI:54009', '+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 ' +\n    '+units=m +no_defs');\n//proj4.defs('ESRI:54012', '+proj=eck4 +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs')\nregister(proj4);\n\nvar proj54009 = getProjection('ESRI:54009');\nproj54009.setExtent([-18e6, -9e6, 18e6, 9e6]);\n\nvar proj102001 = getProjection('EPSG:199999');\nproj102001.setExtent([-9303637, -8338295, 7694955, 7838189]);\n\n\nvar key = 'pk.eyJ1IjoidGhlc2t1YSIsImEiOiJjaXpvdWtoZ3UwMDVmMzJueDl2cWp6NHdnIn0.3T9kAApG2hnV6NCVWxVDbA';\n\nvar countStyle = new Style({\n  fill: new Fill({\n    color: '#666',\n    opacity: 0.4\n  })\n});\n\nvar style = 'https://api.mapbox.com/styles/v1/theskua/ckb9o174m07p61is0tjzhvtsc.html?fresh=true&title=view&access_token=' + key\n\n\nconst map = new Map({\n  target: 'map',\n  layers: [\n    new TileLayer({\n      source: new OSM()\n    })  \n  ],\n  view: new View({\n    projection: 'ESRI:54009', \n    center: [-8277374.267578123, 3555690.7653808603],\n    zoom: 4\n  })\n});\n\nvar layer = new VectorTileLayer({\n  declutter: true,\n  source: new VectorTileSource({\n    attributions: '© <a href=\"https://www.mapbox.com/map-feedback/\">Mapbox</a> ' +\n      '© <a href=\"https://www.openstreetmap.org/copyright\">' +\n      'OpenStreetMap contributors</a>',\n    format: new MVT(),\n    url: 'https://{a-d}.tiles.mapbox.com/v4/theskua.c5v8960k/' +\n        '{z}/{x}/{y}.vector.pbf?access_token=' + key\n  }),\n  style: countStyle,\n  opacity: 0.7\n})\n\nmap.addLayer(layer)\n\nlet styleUrl = require('./data/style.json');\nlet style2Url = require('./data/style2.json');\n\nstylefunction(layer, styleUrl, \"erd202004-27km-poly-moll-fixed\");\n\n\nvar baseLayerSelect = document.getElementById('base-layer');\n\nbaseLayerSelect.onchange = function() {\n\n  if (baseLayerSelect.value == \"style\") {\n    stylefunction(layer, styleUrl, \"erd202004-27km-poly-moll-fixed\");\n  } else {\n    stylefunction(layer, style2Url, \"erd202004-27km-poly-moll-fixed\");\n  }\n};\n\nvar info = $('#info');\ninfo.tooltip({\n  animation: false,\n  trigger: 'manual'\n});\n\nvar displayFeatureInfo = function(pixel) {\n  info.css({\n    left: pixel[0] + 'px',\n    top: (pixel[1] - 15) + 'px'\n  });\n  var feature = map.forEachFeatureAtPixel(pixel, function(feature) {\n    return feature;\n  });\n\n  if (feature) {\n    info.tooltip('hide')\n      .attr('data-original-title', 'Count: ' + feature.get('count') + \" \" + 'Change: ' + feature.get('diff').toFixed(2))\n      .tooltip('fixTitle')\n      .tooltip('show');\n  } else {\n    info.tooltip('hide');\n  }\n};\n\nmap.on('pointermove', function(evt) {\n  //console.log(evt)\n\n  if (evt.dragging) {\n    info.tooltip('hide');\n    return;\n  }\n  displayFeatureInfo(map.getEventPixel(evt.originalEvent));\n});\n"},"lineCount":null}},"error":null,"hash":"5c05a53399a609689255f2f9515612a8","cacheData":{"env":{}}}